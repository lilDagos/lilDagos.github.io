<!DOCTYPE html>
<html>
<head>
<title>ESERCITAZIONE LAB</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script language="JavaScript">
//<!--
function reset() {
    for (let i = 0; i < 9; i++) {
        document.getElementById(i).src='vuoto.jpg'
        V= new Array(8);
    } 
    i=0;
}

let i=0;
V= new Array(8);

function zeroPer(id){

    if(V[id]!=0 && V[id]!=1){
    if(i%2==0){
        document.getElementById(id).src='0.png';
        V[id]=0;
    }else{
        document.getElementById(id).src='x.png';
        V[id]=1;}
        i++}
}

function whoWon(){
    if(i>4){  
        if(V[0]==0 &&0==V[1]&& V[2]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[0]==1 &&V[1]==1 &&V[2]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[0]==0 && V[3]==0 && V[6]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[0]==1 &&V[3]==1 &&V[6]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[0]==0 && V[4]==0 && V[8]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[0]==1 &&V[4]==1 &&V[8]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[1]==0 && V[4]==0 &&V[7]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[1]==1 &&V[4]==1 &&V[7]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[2]==0 && V[5]==0 && V[8]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[2]==1 &&V[5]==1 &&V[8]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[3]==0 && V[4]==0 &&V[5]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[3]==1 && V[4]==1 &&V[5]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[2]==0 &&V[4]==0 && V[6]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[2]==1 &&V[4]==1 &&V[6]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}

        if(V[6]==0 && V[7]==0 && V[8]==0){
            setTimeout(player0Won, 50);
            setTimeout(reset,300);}
            else if(V[6]==1 && V[7]==1 &&V[8]==1){
                setTimeout(playerXWon, 50);
                setTimeout(reset,300);}
    }
}

function player0Won() {
    alert("Player 0 won");
}

function playerXWon() {
    alert("Player X won");
}

var myTimer = setTimeout(function() {console.log("test")}, 3000);

//-->
</script>
<style>
    table, th, td {
        border: 2px solid;
    }
</style>
</head>
<body>
    <table>
        <tr>
          <td><img id="0" src="vuoto.jpg" onclick="zeroPer(0);whoWon()"></td>
          <th><img id="1" src="vuoto.jpg" onclick="zeroPer(1);whoWon()"></th>
          <th><img id="2" src="vuoto.jpg" onclick="zeroPer(2);whoWon()"></th>
        </tr>
        <tr>
            <th><img id="3" src="vuoto.jpg" onclick="zeroPer(3);whoWon()"></th>
            <th><img id="4" src="vuoto.jpg" onclick="zeroPer(4);whoWon()"></th>
            <th><img id="5" src="vuoto.jpg" onclick="zeroPer(5);whoWon()"></th>
        </tr>
        <tr>
            <th><img id="6" src="vuoto.jpg" onclick="zeroPer(6);whoWon()"></th>
            <th><img id="7" src="vuoto.jpg" onclick="zeroPer(7);whoWon()"></th>
            <th><img id="8" src="vuoto.jpg" onclick="zeroPer(8);whoWon()"></th>
        </tr>
      </table> 
      <button id="0" src="vuoto.jpg" onclick="reset()">reset image</button>
</body>
</html>